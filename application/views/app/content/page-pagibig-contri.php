<div id="pagePagibigContri">
	<div class="panel panel-default">
		<div class="panel-heading">
			<h3>Pag-Ibig Contribution Form</h3>
		</div>
		<div class="panel-body button-print">
			<div class="pull-right">
				<button type="button" name="btnPrint" value="print" class ="btn btn-success btn-space btn-print">
						<i class="icon icon-left s7-print"></i>PRINT
				</button>
			</div>
		</div>
		<div class="panel-body">
			<div class="pull-right pagination"></div>
		</div>
	</div>
	<div class="panel panel-default">
		
		<div class="panel-body">
			<div class="form-pagibig">

				<input type="text" class="employerId" />

				<input type="text" class="businessName" />
				<input type="text" class="branch" /><br/>
				<input type="text" class="roomNo" />
				<input type="text" class="buildingName" />
				<input type="text" class="blockNo" />
				<input type="text" class="privateCompany" />
				<input type="text" class="government" />
				<input type="text" class="household" /> <br/>
				 <input type="text" class="streetName" />
				
				<input type="text" class="subdivision" />
				<input type="text" class="barangay" />
				<input type="text" class="city" />
				<input type="text" class="province" />
				<input type="text" class="zipCode" /><br/>
				<input type="text" class="program1" />
				<input type="text" class="program2" />
				<input type="text" class="program3" />
				<input type="text" class="periodCovered" />

				<input type="text" class="midNo1" />
				<input type="text" class="name1" />
				<input type="text" class="accountNo1" />
				<input type="text" class="monthly1" />
				<input type="text" class="employeeShare1" />
				<input type="text" class="employerShare1" />
				<input type="text" class="total1" />
				<input type="text" class="remarks1" />

				<input type="text" class="midNo2" />
				<input type="text" class="name2" />
				<input type="text" class="accountNo2" />
				<input type="text" class="monthly2" />
				<input type="text" class="employeeShare2" />
				<input type="text" class="employerShare2" />
				<input type="text" class="total2" />
				<input type="text" class="remarks2" />

				<input type="text" class="midNo3" />
				<input type="text" class="name3" />
				<input type="text" class="accountNo3" />
				<input type="text" class="monthly3" />
				<input type="text" class="employeeShare3" />
				<input type="text" class="employerShare3" />
				<input type="text" class="total3" />
				<input type="text" class="remarks3" />

				<input type="text" class="midNo4" />
				<input type="text" class="name4" />
				<input type="text" class="accountNo4" />
				<input type="text" class="monthly4" />
				<input type="text" class="employeeShare4" />
				<input type="text" class="employerShare4" />
				<input type="text" class="total4" />
				<input type="text" class="remarks4" />

				<input type="text" class="midNo5" />
				<input type="text" class="name5" />
				<input type="text" class="accountNo5" />
				<input type="text" class="monthly5" />
				<input type="text" class="employeeShare5" />
				<input type="text" class="employerShare5" />
				<input type="text" class="total5" />
				<input type="text" class="remarks5" />

				<input type="text" class="midNo6" />
				<input type="text" class="name6" />
				<input type="text" class="accountNo6" />
				<input type="text" class="monthly6" />
				<input type="text" class="employeeShare6" />
				<input type="text" class="employerShare6" />
				<input type="text" class="total6" />
				<input type="text" class="remarks6" />

				<input type="text" class="midNo7" />
				<input type="text" class="name7" />
				<input type="text" class="accountNo7" />
				<input type="text" class="monthly7" />
				<input type="text" class="employeeShare7" />
				<input type="text" class="employerShare7" />
				<input type="text" class="total7" />
				<input type="text" class="remarks7" />

				<input type="text" class="midNo8" />
				<input type="text" class="name8" />
				<input type="text" class="accountNo8" />
				<input type="text" class="monthly8" />
				<input type="text" class="employeeShare8" />
				<input type="text" class="employerShare8" />
				<input type="text" class="total8" />
				<input type="text" class="remarks8" />

				<input type="text" class="midNo9" />
				<input type="text" class="name9" />
				<input type="text" class="accountNo9" />
				<input type="text" class="monthly9" />
				<input type="text" class="employeeShare9" />
				<input type="text" class="employerShare9" />
				<input type="text" class="total9" />
				<input type="text" class="remarks9" />

				<input type="text" class="midNo10" />
				<input type="text" class="name10" />
				<input type="text" class="accountNo10" />
				<input type="text" class="monthly10" />
				<input type="text" class="employeeShare10" />
				<input type="text" class="employerShare10" />
				<input type="text" class="total10" />
				<input type="text" class="remarks10" />

				<input type="text" class="midNo11" />
				<input type="text" class="name11" />
				<input type="text" class="accountNo11" />
				<input type="text" class="monthly11" />
				<input type="text" class="employeeShare11" />
				<input type="text" class="employerShare11" />
				<input type="text" class="total11" />
				<input type="text" class="remarks11" />

				<input type="text" class="midNo12" />
				<input type="text" class="name12" />
				<input type="text" class="accountNo12" />
				<input type="text" class="monthly12" />
				<input type="text" class="employeeShare12" />
				<input type="text" class="employerShare12" />
				<input type="text" class="total12" />
				<input type="text" class="remarks12" />

				<input type="text" class="midNo13" />
				<input type="text" class="name13" />
				<input type="text" class="accountNo13" />
				<input type="text" class="monthly13" />
				<input type="text" class="employeeShare13" />
				<input type="text" class="employerShare13" />
				<input type="text" class="total13" />
				<input type="text" class="remarks13" />

				<input type="text" class="midNo14" />
				<input type="text" class="name14" />
				<input type="text" class="accountNo14" />
				<input type="text" class="monthly14" />
				<input type="text" class="employeeShare14" />
				<input type="text" class="employerShare14" />
				<input type="text" class="total14" />
				<input type="text" class="remarks14" />

				<input type="text" class="midNo15" />
				<input type="text" class="name15" />
				<input type="text" class="accountNo15" />
				<input type="text" class="monthly15" />
				<input type="text" class="employeeShare15" />
				<input type="text" class="employerShare15" />
				<input type="text" class="total15" />
				<input type="text" class="remarks15" />

				<input type="text" class="midNo16" />
				<input type="text" class="name16" />
				<input type="text" class="accountNo16" />
				<input type="text" class="monthly16" />
				<input type="text" class="employeeShare16" />
				<input type="text" class="employerShare16" />
				<input type="text" class="total16" />
				<input type="text" class="remarks16" />

				<input type="text" class="midNo17" />
				<input type="text" class="name17" />
				<input type="text" class="accountNo17" />
				<input type="text" class="monthly17" />
				<input type="text" class="employeeShare17" />
				<input type="text" class="employerShare17" />
				<input type="text" class="total17" />
				<input type="text" class="remarks17" />

				<input type="text" class="midNo18" />
				<input type="text" class="name18" />
				<input type="text" class="accountNo18" />
				<input type="text" class="monthly18" />
				<input type="text" class="employeeShare18" />
				<input type="text" class="employerShare18" />
				<input type="text" class="total18" />
				<input type="text" class="remarks18" />

				<input type="text" class="midNo19" />
				<input type="text" class="name19" />
				<input type="text" class="accountNo19" />
				<input type="text" class="monthly19" />
				<input type="text" class="employeeShare19" />
				<input type="text" class="employerShare19" />
				<input type="text" class="total19" />
				<input type="text" class="remarks19" />

				<input type="text" class="midNo20" />
				<input type="text" class="name20" />
				<input type="text" class="accountNo20" />
				<input type="text" class="monthly20" />
				<input type="text" class="employeeShare20" />
				<input type="text" class="employerShare20" />
				<input type="text" class="total20" />
				<input type="text" class="remarks20" />

				<input type="text" class="midNo21" />
				<input type="text" class="name21" />
				<input type="text" class="accountNo21" />
				<input type="text" class="monthly21" />
				<input type="text" class="employeeShare21" />
				<input type="text" class="employerShare21" />
				<input type="text" class="total21" />
				<input type="text" class="remarks21" />

				<input type="text" class="midNo22" />
				<input type="text" class="name22" />
				<input type="text" class="accountNo22" />
				<input type="text" class="monthly22" />
				<input type="text" class="employeeShare22" />
				<input type="text" class="employerShare22" />
				<input type="text" class="total22" />
				<input type="text" class="remarks22" />

				<input type="text" class="midNo23" />
				<input type="text" class="name23" />
				<input type="text" class="accountNo23" />
				<input type="text" class="monthly23" />
				<input type="text" class="employeeShare23" />
				<input type="text" class="employerShare23" />
				<input type="text" class="total23" />
				<input type="text" class="remarks23" />

				<input type="text" class="midNo24" />
				<input type="text" class="name24" />
				<input type="text" class="accountNo24" />
				<input type="text" class="monthly24" />
				<input type="text" class="employeeShare24" />
				<input type="text" class="employerShare24" />
				<input type="text" class="total24" />
				<input type="text" class="remarks24" />

				<input type="text" class="midNo25" />
				<input type="text" class="name25" />
				<input type="text" class="accountNo25" />
				<input type="text" class="monthly25" />
				<input type="text" class="employeeShare25" />
				<input type="text" class="employerShare25" />
				<input type="text" class="total25" />
				<input type="text" class="remarks25" />

				<input type="text" class="midNo26" />
				<input type="text" class="name26" />
				<input type="text" class="accountNo26" />
				<input type="text" class="monthly26" />
				<input type="text" class="employeeShare26" />
				<input type="text" class="employerShare26" />
				<input type="text" class="total26" />
				<input type="text" class="remarks26" />

				<input type="text" class="midNo27" />
				<input type="text" class="name27" />
				<input type="text" class="accountNo27" />
				<input type="text" class="monthly27" />
				<input type="text" class="employeeShare27" />
				<input type="text" class="employerShare27" />
				<input type="text" class="total27" />
				<input type="text" class="remarks27" />

				<input type="text" class="midNo28" />
				<input type="text" class="name28" />
				<input type="text" class="accountNo28" />
				<input type="text" class="monthly28" />
				<input type="text" class="employeeShare28" />
				<input type="text" class="employerShare28" />
				<input type="text" class="total28" />
				<input type="text" class="remarks28" />

				<input type="text" class="midNo29" />
				<input type="text" class="name29" />
				<input type="text" class="accountNo29" />
				<input type="text" class="monthly29" />
				<input type="text" class="employeeShare29" />
				<input type="text" class="employerShare29" />
				<input type="text" class="total29" />
				<input type="text" class="remarks29" />

				<input type="text" class="midNo30" />
				<input type="text" class="name30" />
				<input type="text" class="accountNo30" />
				<input type="text" class="monthly30" />
				<input type="text" class="employeeShare30" />
				<input type="text" class="employerShare30" />
				<input type="text" class="total30" />
				<input type="text" class="remarks30" />

				<input type="text" class="totalEmployee" />
				<input type="text" class="totalEmployeeLastPage" />
				<input type="text" class="employeeShareTotal" />
				<input type="text" class="employerShareTotal" />
				<input type="text" class="totalThisPage" />
				<input type="text" class="employeeShareGrandTotal" />
				<input type="text" class="employerShareGrandTotal" />
				<input type="text" class="grandTotal" /><br>
				<input type="text" class="representative" />
				<input type="text" class="position" />
				<input type="text" class="dateFilled" /> 
			</div>
			<div class="print-form-pagibig">
				<div class="image-form">
					
				</div>

				<div class="form-content">
					<input type="text" class="employerId" />
					<input type="text" class="businessName" />
					<input type="text" class="branch" /><br/>
					<input type="text" class="roomNo" />
					<input type="text" class="buildingName" />
					<!-- <input type="text" class="blockNo" />
					<input type="text" class="privateCompany" />
					<input type="text" class="government" />
					<input type="text" class="household" /> <br/>
					<input type="text" class="streetName" />
					<input type="text" class="subdivision" />
					<input type="text" class="barangay" />
					<input type="text" class="city" />
					<input type="text" class="province" />
					<input type="text" class="zipCode" /><br/>
					<input type="text" class="program1" />
					<input type="text" class="program2" />
					<input type="text" class="program3" />
					<input type="text" class="periodCovered" /> -->

				</div>
				

			</div>
			<div class="back-form">
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	var pagePagibigContri = {};

	pagePagibigContri.init = function(selector, callback){
		pagePagibigContri.elem = $(selector);
		pagePagibigContri.pageInt = 0;


		const monthNames = ["January", "February", "March", "April", "May", "June",
							  "July", "August", "September", "October", "November", "December"
							];
		const monthNamesAbri = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
								  "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
								];
		pagePagibigContri.getDate = new Date();

		pagePagibigContri.month = pagePagibigContri.getDate.getMonth();
		pagePagibigContri.day = pagePagibigContri.getDate.getDate();
		pagePagibigContri.monthlyCompen = monthNamesAbri[pagePagibigContri.month] + " " 
										+ pagePagibigContri.getDate.getFullYear();

		pagePagibigContri.currentDate = monthNames[pagePagibigContri.month] + " " 
										+ (pagePagibigContri.day<10 ? '0' : '') + pagePagibigContri.day + ", " 
										+ pagePagibigContri.getDate.getFullYear();

		pagePagibigContri.elem.find('.btn-print').off("click").click(function(e){
			window.print();
		});

		pagePagibigContri.pageNumber = 0;

		if(pagePagibigContri.pageNumber <= 0){
			pagePagibigContri.pageNumber = 1;
		}

		pagePagibigContri.elem.find('.paginationButton').off("click").click(function(e){
				pagePagibigContri.pageNumber = $(this).text();
				$.getJSON('<?php echo site_url('get-data-per-page')?>' + "/" + pagePagibigContri.pageNumber, callback);
			});

		$.getJSON('<?php echo site_url('get-data-per-page')?>' + "/" + pagePagibigContri.pageNumber, callback);
	}

	pagePagibigContri.init("#pagePagibigContri", function(result){
		pagePagibigContri.page = parseInt(result.count);
		pagePagibigContri.page = Math.ceil(pagePagibigContri.pageNumber/30);

		for(pagePagibigContri.pageInt = 1; pagePagibigContri.pageInt<= pagePagibigContri.page;pagePagibigContri.pageInt++){
			pagePagibigContri.createButton = $('<button></button>');
			pagePagibigContri.createButton.attr('type','button');
			pagePagibigContri.createButton.attr('class','btn btn-success btn-space paginationButton')
			if(result.page == pagePagibigContri.pageInt){
				pagePagibigContri.createButton.addClass('active');
			}
			pagePagibigContri.createButton.html(pagePagibigContri.pageInt);
			pagePagibigContri.elem.find('.pagination').append(pagePagibigContri.createButton);

		}

		

		pagePagibigContri.companyInfo = result['company'];
		pagePagibigContri.employeeInfo = result['employee'];
		console.log(pagePagibigContri.employeeInfo);
		

		$.each(pagePagibigContri.companyInfo, function(keyCompany, valueCompany){
			pagePagibigContri.elem.find('.employerId').val(valueCompany['company_pagibig_id']);
			pagePagibigContri.elem.find('.businessName').val(valueCompany['company_name'].toUpperCase());

			pagePagibigContri.companyAddress = jQuery.parseJSON(valueCompany['company_address']);
			pagePagibigContri.elem.find('.buildingName').val(pagePagibigContri.companyAddress['bldg_name'].toUpperCase());
			pagePagibigContri.elem.find('.blockNo').val(pagePagibigContri.companyAddress['house'].toUpperCase());
			pagePagibigContri.elem.find('.streetName').val(pagePagibigContri.companyAddress['street_name'].toUpperCase());
			pagePagibigContri.elem.find('.subdivision').val(pagePagibigContri.companyAddress['subdivision'].toUpperCase());
			pagePagibigContri.elem.find('.barangay').val(pagePagibigContri.companyAddress['barangay'].toUpperCase());
			pagePagibigContri.elem.find('.city').val(pagePagibigContri.companyAddress['city'].toUpperCase());
			pagePagibigContri.elem.find('.province').val(pagePagibigContri.companyAddress['province'].toUpperCase());
			pagePagibigContri.elem.find('.zipCode').val(pagePagibigContri.companyAddress['zip_code']);

		});

		pagePagibigContri.totalER = 0;
		pagePagibigContri.totalEE = 0;
		pagePagibigContri.total = 0;
		$.each(pagePagibigContri.employeeInfo, function(keyEmployee, valueEmployee){
			keyEmployee += +1;
			pagePagibigContri.totalContri = 0;

			pagePagibigContri.elem.find('.midNo'+keyEmployee).val(valueEmployee['pagibig_mid_no']);
			pagePagibigContri.elem.find('.name'+keyEmployee).val(valueEmployee['emp_last_name'].toUpperCase() + ", " + valueEmployee['emp_first_name'].toUpperCase() + " " + valueEmployee['emp_ext_name'].toUpperCase() + " " + valueEmployee['emp_middle_name'].toUpperCase());
			pagePagibigContri.elem.find('.accountNo'+keyEmployee).val(valueEmployee['pagibig_no']);
			pagePagibigContri.elem.find('.employeeShare'+keyEmployee).val(valueEmployee['pagibig_ee_share']);
			pagePagibigContri.elem.find('.employerShare'+keyEmployee).val(valueEmployee['pagibig_er_share']);

			pagePagibigContri.totalContri = parseInt(valueEmployee['pagibig_ee_share']) + parseInt(valueEmployee['pagibig_er_share']);
			pagePagibigContri.elem.find('.total'+keyEmployee).val(pagePagibigContri.totalContri);

			pagePagibigContri.elem.find('.totalEmployee').val(keyEmployee);
			pagePagibigContri.totalER += +parseInt(valueEmployee['pagibig_er_share']);
			pagePagibigContri.totalEE += parseInt(valueEmployee['pagibig_ee_share']);
			// console.log(valueEmployee);

			pagePagibigContri.elem.find('.monthly'+keyEmployee).val(pagePagibigContri.monthlyCompen);
		});
		pagePagibigContri.total = pagePagibigContri.totalER + pagePagibigContri.totalEE;

		pagePagibigContri.elem.find('.employeeShareTotal').val(pagePagibigContri.totalEE);
		pagePagibigContri.elem.find('.employerShareTotal').val(pagePagibigContri.totalER);
		pagePagibigContri.elem.find('.totalThisPage').val(pagePagibigContri.total);
		pagePagibigContri.elem.find('.dateFilled').val(pagePagibigContri.currentDate);
	});
</script>